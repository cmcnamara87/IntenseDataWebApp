<?xml version="1.0" encoding="utf-8"?>
<s:VGroup xmlns:fx="http://ns.adobe.com/mxml/2009" 
		 xmlns:s="library://ns.adobe.com/flex/spark" 
		 xmlns:mx="library://ns.adobe.com/flex/mx" width="100%"
		 xmlns:Element="View.Element.*" 
		 xmlns:ID="View.components.*"
		 gap="0"
		 >
	<fx:Script>
		<![CDATA[
			import Controller.AppController;
			import Controller.Dispatcher;
			
			import Model.Model_ERAProject;
			import Model.Model_User;
			
			import mx.collections.ArrayCollection;
			import mx.collections.ArrayList;
			
			[Embed(source="Assets/Template/header_logo_id_5.png")] 
			[Bindable] private var logo:Class;

			protected function image1_clickHandler(event:MouseEvent):void
			{
				// TODO Auto-generated method stub
				Dispatcher.call('splash');
			}
			
			public function addERAProjects(eraProjectArray:Array):void {
				var eraNameArray:ArrayCollection = new ArrayCollection();
				
				// The position of the era project that is set as the current era project
				var selectedIndex:Number = 0;
				
				for(var i:Number = 0; i < eraProjectArray.length; i++) {
					var eraProject:Model_ERAProject = eraProjectArray[i] as Model_ERAProject;
					
					// Add the era project to the dropdown
					var object:Object = new Object();
					object.label = "ERA " + eraProject.year;
					object.data = eraProject;
					eraNameArray.addItem(object);
					
					// Check if the era project is the current project, if so, save its position
					if(AppController.currentEraProject.base_asset_id == eraProject.base_asset_id) {
						selectedIndex = i;
					}
				}
				eraDropDown.dataProvider = eraNameArray;
				eraDropDown.selectedIndex = selectedIndex;
			}
			
			public function unhighlightAllButtons():void {
				newERAButton.setStyle("chromeColor", "0x222222");
				dashboardButton.setStyle("chromeColor", "0x222222");
				userAdminButton.setStyle("chromeColor", "0x222222");
				caseCreatorButton.setStyle("chromeColor", "0x222222");
				reportButton.setStyle("chromeColor", "0x222222");
			}
		]]>
	</fx:Script>
	<!--<mx:HBox id='headerbackground' width="100%" height="44" backgroundColor="0x336699">-->
	<mx:HBox id='headerbackground' width="100%" height="50" backgroundColor="0x333333">
		<!--<Element:BackgroundImage id="background"></Element:BackgroundImage>-->
		
		<!-- Add in the logo group -->
		<s:HGroup height="100%" width="135" verticalAlign="middle" paddingLeft="10" id="logoNotificationGroup">
			<!-- The logo -->
			<mx:Image buttonMode="true" click="image1_clickHandler(event)" source="{logo}" width="135" height="32"></mx:Image>
			<!--<s:TextArea id="mything" />-->
			<s:ToggleButton chromeColor="0x222222" color="0xFFFFFF" id="notificationButton" fontWeight="bold" height="100%" width="50" label="0" toolTip="Notifications">
			</s:ToggleButton>
		</s:HGroup>
		
		<!-- Add in the button group -->
		<s:HGroup id="adminToolButtons" includeInLayout="false" paddingLeft="70" visible="false"  width="100%"  height="100%" verticalAlign="middle" gap="0">
			<s:Line height="100%">
				<s:stroke>
					<s:SolidColorStroke color="0x000000" weight="1" caps="round" />
				</s:stroke>
			</s:Line>
			
			<s:Button id="newERAButton" label="ERA Edition Manager" chromeColor="0x222222" height="100%" color="0xEEEEEE">
			</s:Button>
		
			<s:Line height="100%">
				<s:stroke>
					<s:SolidColorStroke color="0x000000" weight="1" caps="round" />
				</s:stroke>
			</s:Line>
		
			<s:DropDownList id="eraDropDown" contentBackgroundColor="0x222222" chromeColor="0x222222" height="100%" color="0xEEEEEE" >
			</s:DropDownList>
			<s:Button id="dashboardButton" enabled="false" label="Dashboard" visible="false" includeInLayout="false" chromeColor="0x222222" height="100%" color="0xEEEEEE">
			</s:Button>
			<s:Button id="userAdminButton" label="User Admin" chromeColor="0x222222" height="100%" color="0xEEEEEE">
			</s:Button>
			<s:Button id="caseCreatorButton" label="Case Manager" chromeColor="0x222222" height="100%" color="0xEEEEEE">
			</s:Button>
			<s:Button id="reportButton" label="Activity Reports" chromeColor="0x222222" height="100%" color="0xEEEEEE">
			</s:Button>
		</s:HGroup>
		<s:HGroup width="100%">
		</s:HGroup>
		<s:HGroup id="globalButtonGroup" visible="false" height="100%"  verticalAlign="middle" gap="0">
			<!-- paddingTop="5" paddingBottom="5" paddingRight="20" -->
			<s:HGroup id="switchingModeButtonGroup"  width="100%" height="100%" gap="0">
				<s:Button chromeColor="0x222222" color="0xEEEEEE" id="adminToolsButton" height="100%" label="Admin Manager" toolTip="Switch to Admin View" >
				</s:Button>
				<s:Button chromeColor="0x222222" color="0xEEEEEE" id="productionToolsButton" height="100%" label="Line of Inquiry" toolTip="Switch to Case View" >
				</s:Button>
			</s:HGroup>
			
			<s:Line height="100%">
				<s:stroke>
					<s:SolidColorStroke color="0x000000" weight="1" caps="round" />
				</s:stroke>
			</s:Line>
			<!--
			<s:ToggleButton chromeColor="0x222222" color="0xFFFFFF" id="notificationButton" fontWeight="bold" height="100%" width="50" label="0" toolTip="Notifications">
			</s:ToggleButton>
			-->
			<s:Button minWidth="120" chromeColor="0x222222" color="0xEEEEEE" id="profileButton" height="100%" label="Username" toolTip="Go to your Profile Page">
			</s:Button>
			
			<s:Button chromeColor="0x222222" color="0xEEEEEE" id="logoutButton" height="100%" label="Logout" toolTip="Logout of {Recensio_Flex_Beta.NAME}" >
			</s:Button>
			
			<!--<Element:RoundButton id="logoutButton" width="101" height="22" top="21" right="-10" text="Logout" visible="false" toolTip="Log out of the system"></Element:RoundButton>-->
			<!--<Element:RoundButton id="profileButton" width="80" height="22" top="21" right="90" text="Profile" visible="false" toolTip="Edit your profile"></Element:RoundButton>-->
		</s:HGroup>
	</mx:HBox>
	<mx:HRule chromeColor="0xFFFFFF" width="100%" />
	<s:filters>
		<s:DropShadowFilter distance="3" angle="270" alpha="0.5" color="0x000000" blurX="20" blurY="20"/>
	</s:filters>
	
</s:VGroup>
