<?xml version="1.0" encoding="utf-8"?>
<s:Group xmlns:fx="http://ns.adobe.com/mxml/2009" 
		 xmlns:s="library://ns.adobe.com/flex/spark" 
		 xmlns:mx="library://ns.adobe.com/flex/mx" width="100%"
		 xmlns:Element="View.Element.*" 
		 xmlns:ID="View.components.*"
		 >
	<fx:Script>
		<![CDATA[
			import Controller.AppController;
			import Controller.Dispatcher;
			
			import Model.Model_ERAProject;
			import Model.Model_User;
			
			import mx.collections.ArrayCollection;
			import mx.collections.ArrayList;
			[Embed(source="Assets/Template/header_logo_id_5.png")] 
			[Bindable] private var logo:Class;

			protected function image1_clickHandler(event:MouseEvent):void
			{
				// TODO Auto-generated method stub
				Dispatcher.call('browse');
			}
			
			public function addERAProjects(eraProjectArray:Array):void {
				var eraNameArray:ArrayCollection = new ArrayCollection();
				
				// The position of the era project that is set as the current era project
				var selectedIndex:Number = 0;
				
				for(var i:Number = 0; i < eraProjectArray.length; i++) {
					var eraProject:Model_ERAProject = eraProjectArray[i] as Model_ERAProject;
					
					// Add the era project to the dropdown
					var object:Object = new Object();
					object.label = "ERA * " + eraProject.year;
					object.data = eraProject;
					eraNameArray.addItem(object);
					
					// Check if the era project is the current project, if so, save its position
					if(AppController.currentEraProject.base_asset_id == eraProject.base_asset_id) {
						selectedIndex = i;
					}
				}
				eraDropDown.dataProvider = eraNameArray;
				eraDropDown.selectedIndex = selectedIndex;
			}
		]]>
	</fx:Script>
	<!--<mx:HBox id='headerbackground' width="100%" height="44" backgroundColor="0x336699">-->
	<mx:HBox id='headerbackground' width="100%" height="50" backgroundColor="0x333333">
		<!--<Element:BackgroundImage id="background"></Element:BackgroundImage>-->
		
		<!-- Add in the logo group -->
		<s:HGroup height="100%" width="102" verticalAlign="middle" paddingLeft="10">
			<!-- The logo -->
			<mx:Image buttonMode="true" click="image1_clickHandler(event)" source="{logo}" width="102" height="22"></mx:Image>
		</s:HGroup>
		
		<!-- Add in the button group -->
		<s:HGroup id="adminToolButtons" includeInLayout="false" paddingLeft="20" visible="false"  width="100%"  height="100%" verticalAlign="middle">
				<s:Button id="newERAButton" label="Manage ERAs" chromeColor="0x222222" cornerRadius="10" color="0xEEEEEE">
				</s:Button>
				<s:DropDownList id="eraDropDown" contentBackgroundColor="0x222222" chromeColor="0x222222" cornerRadius="10" color="0xEEEEEE" >
				</s:DropDownList>
				<s:Button id="dashboardButton" label="Dashboard" chromeColor="0x222222" cornerRadius="10" color="0xEEEEEE">
				</s:Button>
				<s:Button id="userAdminButton" label="User Admin" chromeColor="0x222222" cornerRadius="10" color="0xEEEEEE">
				</s:Button>
				<s:Button id="caseCreatorButton" label="Case Creator" chromeColor="0x222222" cornerRadius="10" color="0xEEEEEE">
				</s:Button>
				<s:Button id="reportButton" label="Reports" chromeColor="0x222222" cornerRadius="10" color="0xEEEEEE">
				</s:Button>
		</s:HGroup>
		<s:HGroup width="100%">
		</s:HGroup>
		<s:HGroup id="globalButtonGroup" visible="false" height="100%" paddingTop="5" paddingBottom="5" paddingRight="20" verticalAlign="middle">
			
			<s:Button chromeColor="0x222222" cornerRadius="10" color="0xEEEEEE" id="adminToolsButton" height="20" label="Admin Tools" toolTip="Logout of {Recensio_Flex_Beta.NAME}" >
			</s:Button>
			<s:Button chromeColor="0x222222" cornerRadius="10" color="0xEEEEEE" id="productionToolsButton" height="20" label="Production Tools" toolTip="Logout of {Recensio_Flex_Beta.NAME}" >
			</s:Button>
			
			<mx:VRule height="100%" chromeColor="0x000000">
			</mx:VRule>
			
			<s:Button chromeColor="0x8FAFF7" cornerRadius="10" color="0x222222" id="notificationButton" height="20" width="30" label="0" toolTip="Notifications">
			</s:Button>
			<s:Button chromeColor="0x222222" cornerRadius="10" color="0xEEEEEE" id="profileButton" height="20" label="Username" toolTip="Go to your Profile Page">
			</s:Button>
			
			<s:Button chromeColor="0x222222" cornerRadius="10" color="0xEEEEEE" id="logoutButton" height="20" label="Logout" toolTip="Logout of {Recensio_Flex_Beta.NAME}" >
			</s:Button>
			
			<!--<Element:RoundButton id="logoutButton" width="101" height="22" top="21" right="-10" text="Logout" visible="false" toolTip="Log out of the system"></Element:RoundButton>-->
			<!--<Element:RoundButton id="profileButton" width="80" height="22" top="21" right="90" text="Profile" visible="false" toolTip="Edit your profile"></Element:RoundButton>-->
		</s:HGroup>
	</mx:HBox>
	<s:filters>
		<s:DropShadowFilter distance="3" angle="270" alpha="0.5" color="0x000000" blurX="20" blurY="20"/>
	</s:filters>
</s:Group>
